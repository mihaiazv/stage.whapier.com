import X from"./App-78dde856.js";import{r as u,T,O as Y,o as r,c as i,a as e,w as ee,v as te,u as l,b as c,d as se,F as N,e as E,t as a,f as h,g as C,h as oe,i as le,j as f,k as V,n as p,l as ae}from"./app-65921241.js";import{d as re}from"./debounce-62f50359.js";import{_ as ne}from"./AlertModal-78edca2f.js";import{u as ie}from"./useAlertModal-adb9dbcf.js";import{_ as I}from"./Modal-01e304db.js";import{_ as D}from"./FormInput-35f9159b.js";import{_ as de}from"./FormSelect-dc5c52c3.js";import{_ as ue}from"./FormTextArea-e5b91def.js";import{_ as F}from"./FormToggleSwitch-5925ba38.js";import{P as ce}from"./Pagination-8cea9df1.js";import{t as W}from"./index-db537bfe.js";import"./Sidebar-497afb81.js";import"./Menu-1b7e5044.js";import"./ProfileModal-ffa39ee0.js";import"./FormPhoneInput-700dfa92.js";/* empty css                      */import"./transition-f37120ce.js";import"./hidden-78d7e861.js";import"./use-outside-click-e7d3b6c5.js";import"./micro-task-89dcd6af.js";import"./tabs-bde3ac83.js";import"./use-resolve-button-type-567bcc7c.js";import"./LangToggle-c7ae3224.js";import"./MobileSidebar-23a0956a.js";import"./index-755cdf3b.js";/* empty css              */import"./useRtl-81ed5c2b.js";import"./_baseGetTag-25f19440.js";import"./use-text-value-dba16a17.js";import"./_plugin-vue_export-helper-c27b6911.js";const me={class:"md:bg-white flex items-center border border-primary md:border-none md:shadow-sm h-12 md:h-10 w-full md:w-80 rounded-[0.5rem] mb-6 text-xl md:text-sm"},pe=["placeholder"],fe={key:1,class:"pr-2"},ge={class:"grid md:grid-cols-3 gap-x-5 gap-y-4"},ve={class:"flex items-center gap-x-3 pb-2 bg-slate-50 px-4 pt-4 rounded-tr-[0.5rem] rounded-tl-[0.5rem]"},be=["src"],he={class:"text-[16px]"},xe={class:"text-slate-500 border-b px-4 text-xs pt-2 pb-4"},ye={class:"flex justify-between items-center px-4 pb-4 text-xs"},we={key:0,class:"py-1 px-3 rounded-md text-slate-600 bg-red-600 text-white"},_e={key:1,class:"py-1 px-3 rounded-md text-slate-600 bg-slate-50"},ke=["onClick"],$e=["onClick"],Ve={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Ce={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Se={class:"flex items-center gap-x-3"},Ae=["src"],Me={class:"text-[16px]"},Te={class:"text-slate-500 font-light text-xs pt-4"},Ne={class:"grid gap-x-6 gap-y-4 sm:grid-cols-2"},Ue={key:1},Oe={class:"text-sm mb-2"},je={key:4},Be={class:"text-[11px] text-gray-500"},Ze={class:"text-sm mb-2"},Le={key:0,class:"bg-orange-100 p-2 rounded-md shadow-sm mb-1 col-span-2"},Ee={class:"flex items-center gap-x-1 border-b border-slate-500 pb-2 mb-2"},Ie={class:"text-sm"},De={class:"text-sm leading-6 break-all"},Fe={class:"text-sm leading-6 break-all"},We={class:"mt-5 border-t pt-5 flex"},ze=["disabled"],Re={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},qe={key:1},Je={class:"grid grid-cols-1 gap-x-6 gap-y-4"},Pe={class:"bg-slate-50 mx-[-30px] px-6 mt-[-25px] py-4 border-b"},Ke={class:"flex items-center gap-x-3"},Ge=["src"],He={class:"text-[16px]"},Qe={class:"text-slate-500 font-light text-xs pt-4"},Xe={class:"grid gap-x-6 sm:grid-cols-2"},Ye={class:"text-sm"},et={class:"col-span-2 text-xs text-slate-600 mb-2"},tt={class:"mt-5 border-t pt-5 flex"},st=["disabled"],ot={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},lt={key:1},at={__name:"AddonTable",props:{rows:{type:Object,required:!0},filters:{type:Object},config:{type:Array}},emits:["edit","delete"],setup(g,{emit:S}){const x=g,{isOpenAlert:v,openAlert:ct,confirmAlert:z}=ie(),w=u(!1),_=u(!1);u(!1);const R=u(window.location.origin);u(!1);const q=T({test:null}),n=T({uuid:null,settings:{},is_active:null}),m=T({uuid:null,purchase_code:null,addon:null}),J=s=>{q.delete("/admin/faqs/"+s)},y=u({search:x.filters.search}),A=u(!1),P=()=>{y.value.search=null,O()},U=re(()=>{A.value=!0,O()},1e3),O=()=>{const s=window.location.pathname;Y.visit(s,{method:"get",data:y.value})},j=u(null),k=u(null),b=u(null),$=u(null),B=u(null),Z=u([]),K=s=>{var d;k.value=s.logo,b.value=s.name,$.value=s.description;const o=((d=JSON.parse(s.metadata))==null?void 0:d.input_fields)||[];Z.value=o,n.settings={};let t=b.value.toLowerCase().replace(/ /g,"-");j.value="/admin/addons/setup/"+t,n.is_active=s.is_active,n.uuid=s.uuid,o.forEach(M=>{n.settings[M.name]=L(M.name,M.element)}),w.value=!0},G=(s,o)=>{const t=s.metadata?JSON.parse(s.metadata):null;k.value=s.logo,b.value=s.name,$.value=s.description,B.value=o=="extended"?W("Enter your extended license to install"):W("Enter the addon license to install"),m.uuid=s.uuid,m.addon=(t==null?void 0:t.name)||s.name,_.value=!0},L=(s,o=null)=>{const t=x.config.find(d=>d.key===s);return t?t.value:o=="toggle"?0:""},H=()=>{n.post(j.value,{preserveScroll:!0,onSuccess:()=>{w.value=!1}})},Q=()=>{m.post("/admin/addons/install",{preserveScroll:!0,onSuccess:()=>{_.value=!1}})};return(s,o)=>(r(),i(N,null,[e("div",me,[o[12]||(o[12]=e("span",{class:"pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15 15l6 6m-11-4a7 7 0 1 1 0-14a7 7 0 0 1 0 14Z"})])],-1)),ee(e("input",{onInput:o[0]||(o[0]=(...t)=>l(U)&&l(U)(...t)),"onUpdate:modelValue":o[1]||(o[1]=t=>y.value.search=t),type:"text",class:"outline-none px-4 w-full",placeholder:s.$t("Search")},null,40,pe),[[te,y.value.search]]),A.value===!1&&y.value.search?(r(),i("button",{key:0,onClick:P,type:"button",class:"pr-2"},o[10]||(o[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2zm3.7 12.3c.4.4.4 1 0 1.4c-.4.4-1 .4-1.4 0L12 13.4l-2.3 2.3c-.4.4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4l2.3-2.3l-2.3-2.3c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0l2.3 2.3l2.3-2.3c.4-.4 1-.4 1.4 0c.4.4.4 1 0 1.4L13.4 12l2.3 2.3z"})],-1)]))):c("",!0),A.value?(r(),i("span",fe,o[11]||(o[11]=[se('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12"></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12"></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0"><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12"></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0"></animate></circle></svg>',1)]))):c("",!0)]),e("div",ge,[(r(!0),i(N,null,E(g.rows.data,t=>(r(),i("div",{key:t.id,class:"bg-white rounded-[0.5rem] shadow-md text-sm space-y-3"},[e("div",ve,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+t.logo,alt:"Whatsapp Logo"},null,8,be)]),e("div",he,a(s.$t(t.name)),1)]),e("div",xe,a(t.description),1),e("div",ye,[e("div",null,[t.status==0?(r(),i("span",we,a(s.$t("Not installed")),1)):t.status==1&&t.update_available==0?(r(),i("span",_e,a(s.$t("Installed")),1)):t.status==1&&t.update_available==1?(r(),h(l(le),{key:2,href:"/admin/updates",class:"py-1 px-3 rounded-md text-slate-600 bg-green-600 text-white"},{default:C(()=>[oe(a(s.$t("Update available")),1)]),_:1})):c("",!0)]),e("div",null,[t.status==0?(r(),i("button",{key:0,onClick:d=>G(t,t.license),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},a(s.$t("Install")),9,ke)):(r(),i("button",{key:1,onClick:d=>K(t),class:"rounded-full border-2 w-full px-10 py-2 hover:border-secondary hover:bg-secondary hover:text-white text-secondary"},a(s.$t("Setup")),9,$e))])])]))),128))]),f(ce,{class:"mt-3",pagination:g.rows.meta},null,8,["pagination"]),f(I,{isOpen:w.value},{default:C(()=>[e("div",Ve,[e("div",Ce,[e("div",Se,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+k.value,alt:"Whatsapp Logo"},null,8,Ae)]),e("div",Me,a(s.$t(b.value)),1)]),e("div",Te,a($.value),1)]),e("form",{onSubmit:o[4]||(o[4]=V(t=>H(),["prevent"]))},[e("div",Ne,[(r(!0),i(N,null,E(Z.value,t=>(r(),i("div",{class:p(t.class)},[t.element=="input"?(r(),h(D,{key:0,modelValue:l(n).settings[t.name],"onUpdate:modelValue":d=>l(n).settings[t.name]=d,error:l(n).errors[`settings.${t.name}`],name:s.$t(t.label),type:t.type,class:p(t.class)},null,8,["modelValue","onUpdate:modelValue","error","name","type","class"])):c("",!0),t.element=="toggle"?(r(),i("div",Ue,[e("div",Oe,a(s.$t(t.label)),1),t.element=="toggle"?(r(),h(F,{key:0,modelValue:l(n).settings[t.name],"onUpdate:modelValue":d=>l(n).settings[t.name]=d},null,8,["modelValue","onUpdate:modelValue"])):c("",!0)])):c("",!0),t.element=="select"?(r(),h(de,{key:2,modelValue:l(n).settings[t.name],"onUpdate:modelValue":d=>l(n).settings[t.name]=d,name:s.$t(t.label),type:"text",options:t.options,error:l(n).errors[`settings.${t.name}`],class:p(t.class)},null,8,["modelValue","onUpdate:modelValue","name","options","error","class"])):c("",!0),t.element=="textarea"?(r(),h(ue,{key:3,modelValue:l(n).settings[t.name],"onUpdate:modelValue":d=>l(n).settings[t.name]=d,error:l(n).errors[`settings.${t.name}`],name:s.$t(t.label),class:p(t.class)},null,8,["modelValue","onUpdate:modelValue","error","name","class"])):c("",!0),t.description?(r(),i("div",je,[e("span",Be,a(t.description),1)])):c("",!0)],2))),256)),e("div",null,[e("div",Ze,a(s.$t("Enable/disable addon")),1),f(F,{modelValue:l(n).is_active,"onUpdate:modelValue":o[2]||(o[2]=t=>l(n).is_active=t)},null,8,["modelValue"])]),b.value=="Embedded Signup"?(r(),i("div",Le,[e("div",Ee,[o[13]||(o[13]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("p",Ie,a(s.$t("Webhook setup")),1)]),e("span",null,[e("p",De,a(s.$t("Callback URL"))+": "+a(R.value+"/webhook/waba"),1),e("p",Fe,a(s.$t("Verify token"))+": "+a(L("whatsapp_callback_token")),1)])])):c("",!0)]),e("div",We,[e("button",{type:"button",onClick:o[3]||(o[3]=V(t=>w.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},a(s.$t("Cancel")),1),e("button",{class:p(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":l(n).processing}]),disabled:l(n).processing},[l(n).processing?(r(),i("svg",Re,o[14]||(o[14]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(r(),i("span",qe,a(s.$t("Save")),1))],10,ze)])],32)])]),_:1},8,["isOpen"]),f(I,{isOpen:_.value},{default:C(()=>[e("div",Je,[e("div",Pe,[e("div",Ke,[e("div",null,[e("img",{class:"h-8 w-8",src:"/images/"+k.value,alt:"Whatsapp Logo"},null,8,Ge)]),e("div",He,a(s.$t(b.value)),1)]),e("div",Qe,a($.value),1)]),e("form",{onSubmit:o[7]||(o[7]=V(t=>Q(),["prevent"]))},[e("div",Xe,[e("h4",Ye,a(s.$t("Envato purchase code")),1),e("span",et,a(B.value),1),f(D,{modelValue:l(m).purchase_code,"onUpdate:modelValue":o[5]||(o[5]=t=>l(m).purchase_code=t),error:l(m).errors.purchase_code,name:"",type:"text",class:p("col-span-2")},null,8,["modelValue","error"])]),e("div",tt,[e("button",{type:"button",onClick:o[6]||(o[6]=V(t=>_.value=!1,["self"])),class:"inline-flex justify-center rounded-md border border-transparent bg-slate-50 px-4 py-2 text-sm text-slate-500 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 mr-4"},a(s.$t("Cancel")),1),e("button",{class:p(["inline-flex justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",{"opacity-50":l(m).processing}]),disabled:l(m).processing},[l(m).processing?(r(),i("svg",ot,o[15]||(o[15]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(r(),i("span",lt,a(s.$t("Save")),1))],10,st)])],32)])]),_:1},8,["isOpen"]),f(ne,{modelValue:l(v),"onUpdate:modelValue":o[8]||(o[8]=t=>ae(v)?v.value=t:null),onConfirm:o[9]||(o[9]=()=>l(z)(J)),label:s.$t("Delete row"),description:s.$t("Are you sure you want to delete this row? This action can not be undone")},null,8,["modelValue","label","description"])],64))}},rt={class:"bg-white md:bg-inherit pt-10 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] h-full md:overflow-y-auto"},nt={class:"flex justify-between"},it={class:"text-xl mb-1"},dt={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},ut={class:"ml-1 mt-1"},zt={__name:"Index",props:{title:String,rows:Object,filters:Object,config:Array},setup(g){const S=g;return(x,v)=>(r(),h(X,null,{default:C(()=>[e("div",rt,[e("div",nt,[e("div",null,[e("h1",it,a(x.$t("Explore Add-ons Marketplace")),1),e("p",dt,[v[0]||(v[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",ut,a(x.$t("Select an addon that you want to install on your platform")),1)])])]),f(at,{rows:S.rows,filters:S.filters,config:g.config},null,8,["rows","filters","config"])])]),_:1}))}};export{zt as default};
