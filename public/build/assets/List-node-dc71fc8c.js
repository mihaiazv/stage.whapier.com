import{_ as ne,E as ie}from"./ellipsis-dba72211.js";import{b as ue,u as re,c as z,d as O}from"./vue-flow-core-43c28c7d.js";import{_ as me}from"./Menubar.vue_vue_type_script_setup_true_lang-a0d3db31.js";import{_ as C}from"./MenubarItem.vue_vue_type_script_setup_true_lang-d7fa8f46.js";import{_ as pe}from"./MenubarContent.vue_vue_type_script_setup_true_lang-ddc1c6be.js";import{_ as ce}from"./MenubarMenu.vue_vue_type_script_setup_true_lang-c5197be5.js";import{_ as ve}from"./MenubarTrigger.vue_vue_type_script_setup_true_lang-5fca330e.js";import{_ as v}from"./FormInput-5f8c3ed0.js";import{_ as fe}from"./FormSelect-3e4ea52f.js";import{_ as be}from"./FormTextArea-f7f8c776.js";import xe from"./FlowMedia-063f17f2.js";import{D as ye,r as g,G as _e,m as ge,o as u,c as r,j as d,u as n,a as t,f as G,n as m,t as y,g as f,h as p,d as he,b as h,F as W,e as J}from"./app-d72bbb97.js";import{_ as Ve}from"./_plugin-vue_export-helper-c27b6911.js";import"./createLucideIcon-34b474fd.js";import"./index-e8e378f5.js";import"./utils-836e31d3.js";import"./index-26f03d4e.js";import"./hidden-45b06b69.js";import"./use-text-value-ea17fa6e.js";import"./use-outside-click-d35f9460.js";import"./use-resolve-button-type-f64828a4.js";const Te={class:"rounded-sm border border-gray-200 bg-white p-3 shadow-md"},ke={class:"flex flex-col gap-y-2"},Ce={class:"flex justify-between items-center"},Ee={class:"flex gap-x-2"},Le={class:"flex flex-col gap-y-1"},Ne={key:1,class:"text-base"},Ue={key:0,class:"flex items-center gap-x-2 bg-red-500 text-white rounded-md px-2 py-2"},Be={class:"mb-4"},Se={key:1,class:"mb-4"},$e={class:"mb-4"},Re={class:"mb-4"},we={class:"mb-4"},De={class:"flex justify-between items-center mb-2"},Fe={class:"text-sm"},Me=["onClick"],je={class:"mb-4"},qe={class:"flex justify-between items-center mb-4"},He=["onClick"],Pe={class:"flex justify-between items-center mb-2"},Ae={class:"text-sm"},ze=["onClick"],Oe={class:"grid grid-cols-2 gap-x-6"},Ge={class:"mb-4"},We={class:"text-sm"},Je={class:"mb-2"},Ke={class:"text-sm"},Qe={class:"mb-2"},Xe={class:"text-sm"},Ye=ye({__name:"List-node",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(K){var U,B,S,$,R,w,D,F,M,j,q,H,P,A;const c=K,V=g(c.data.title),Q=g(c.data.uuid),T=g(!1),l=g({type:"interactive list",headerType:((B=(U=c.data.metadata)==null?void 0:U.fields)==null?void 0:B.headerType)||"none",headerText:(($=(S=c.data.metadata)==null?void 0:S.fields)==null?void 0:$.headerText)||"",headerMedia:((w=(R=c.data.metadata)==null?void 0:R.fields)==null?void 0:w.headerMedia)||[],body:((F=(D=c.data.metadata)==null?void 0:D.fields)==null?void 0:F.body)||"",footer:((j=(M=c.data.metadata)==null?void 0:M.fields)==null?void 0:j.footer)||"",buttonLabel:((H=(q=c.data.metadata)==null?void 0:q.fields)==null?void 0:H.buttonLabel)||"",sections:((A=(P=c.data.metadata)==null?void 0:P.fields)==null?void 0:A.sections)||[{rows:[{}]}]}),X=g([{value:"none",label:"None"},{value:"text",label:"Text"},{value:"image",label:"Image"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"document",label:"Document"}]),b=ue(),{removeNodes:Y,nodes:Z,addNodes:I,removeEdges:E,edges:L}=re();function N(a){L.value.filter(s=>s.sourceHandle===a).forEach(s=>E(s.id))}_e(l,a=>{b.node.data.metadata.fields={...a}},{deep:!0});function ee(){l.value.sections.length<10&&l.value.sections.push({rows:[{}]})}function te(a){l.value.sections[a].rows.length<10&&l.value.sections[a].rows.push({})}function le(a){l.value.sections.length>1&&(l.value.sections[a].rows.forEach((e,s)=>{const i="a"+a+s;N(i)}),l.value.sections.splice(a,1))}function se(a,e){l.value.sections[a].rows.length>1&&(l.value.sections[a].rows.splice(e,1),l.value.sections[a].rows=l.value.sections[a].rows.map((s,i)=>({...s,id:s.id,title:s.title||"",description:s.description||""})),N("a"+a+e))}function ae(){L.value.filter(a=>a.source===b.id||a.target===b.id).forEach(a=>E(a.id)),Y(b.id)}function oe(){const{type:a,position:e,label:s,data:i}=b.node,o={id:(Z.value.length+1).toString(),type:a,position:{x:e.x+100,y:e.y+100},label:s,data:i};I(o)}const de=ge(()=>{const a=l.value.sections.some(e=>e.title?e.rows.every(s=>!s.title||!s.id):!0);return l.value.headerType!==""&&l.value.headerType==="text"&&l.value.headerText===""||l.value.headerType!==""&&l.value.headerType!=="text"&&l.value.headerType!=="none"&&l.value.headerMedia.length===0||l.value.body===""||l.value.buttonLabel===""||a});function k(a){return a.length}return(a,e)=>(u(),r("div",Te,[d(n(O),{type:"target",position:n(z).Left},null,8,["position"]),t("div",ke,[t("div",Ce,[t("div",Ee,[e[9]||(e[9]=t("img",{src:ne,class:"mt-1 h-4 w-4",alt:"LLM icon"},null,-1)),t("div",Le,[T.value?(u(),G(v,{key:0,modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=s=>V.value=s),name:"",type:"text",class:m("col-span-4"),onBlur:e[1]||(e[1]=()=>T.value=!1)},null,8,["modelValue"])):(u(),r("h3",Ne,y(V.value),1))])]),d(n(me),{class:"border-none"},{default:f(()=>[d(n(ce),null,{default:f(()=>[d(n(ve),null,{default:f(()=>[d(n(ie))]),_:1}),d(n(pe),null,{default:f(()=>[d(n(C),{onClick:oe},{default:f(()=>e[10]||(e[10]=[p(" Duplicated ")])),_:1}),d(n(C),{onClick:ae},{default:f(()=>e[11]||(e[11]=[p(" Delete ")])),_:1}),d(n(C),{onClick:e[2]||(e[2]=s=>T.value=!0)},{default:f(()=>e[12]||(e[12]=[p(" Rename ")])),_:1})]),_:1})]),_:1})]),_:1})]),de.value?(u(),r("div",Ue,e[13]||(e[13]=[he('<span data-v-b2e00c03><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" data-v-b2e00c03><g fill="none" data-v-b2e00c03><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" data-v-b2e00c03></path><path fill="currentColor" d="m13.299 3.148l8.634 14.954a1.5 1.5 0 0 1-1.299 2.25H3.366a1.5 1.5 0 0 1-1.299-2.25l8.634-14.954c.577-1 2.02-1 2.598 0M12 15a1 1 0 1 0 0 2a1 1 0 0 0 0-2m0-7a1 1 0 0 0-.993.883L11 9v4a1 1 0 0 0 1.993.117L13 13V9a1 1 0 0 0-1-1" data-v-b2e00c03></path></g></svg></span><span class="text-sm" data-v-b2e00c03>Please fill all the required fields</span>',2)]))):h("",!0),e[25]||(e[25]=t("span",{class:"text-sm text-gray-500"},"Send interactive list message to your recipients.",-1)),t("div",Be,[e[14]||(e[14]=t("label",{class:"text-sm mb-2"},"Header (Optional)",-1)),d(fe,{modelValue:l.value.headerType,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.headerType=s),name:"",type:"text",optionClassName:"h-32",options:X.value,class:m("col-span-4")},null,8,["modelValue","options"])]),l.value.headerType=="text"?(u(),r("div",Se,[e[15]||(e[15]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Header Text")],-1)),d(v,{modelValue:l.value.headerText,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.headerText=s),name:"",placeholder:"Enter header text",type:"text",class:m("col-span-4")},null,8,["modelValue"])])):h("",!0),l.value.headerType!="text"&&l.value.headerType!="none"?(u(),G(xe,{key:2,modelValue:l.value.headerMedia,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.headerMedia=s),type:l.value.headerType,uuid:Q.value,nodeId:n(b).id},null,8,["modelValue","type","uuid","nodeId"])):h("",!0),t("div",$e,[e[16]||(e[16]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Body")],-1)),d(be,{modelValue:l.value.body,"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.body=s),placeholder:"Enter the main message for this message type",name:"",type:"text",class:m("col-span-4")},null,8,["modelValue"])]),t("div",Re,[e[17]||(e[17]=t("label",{class:"text-sm mb-2"},"Footer Text (Optional)",-1)),d(v,{modelValue:l.value.footer,"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.footer=s),name:"",placeholder:"Enter footer text",type:"text",class:m("col-span-4")},null,8,["modelValue"])]),t("div",we,[e[18]||(e[18]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Button Label")],-1)),d(v,{modelValue:l.value.buttonLabel,"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.buttonLabel=s),name:"",placeholder:"Enter footer text",type:"text",class:m("col-span-4")},null,8,["modelValue"])]),t("div",{class:"flex justify-between items-center mb-4"},[e[19]||(e[19]=t("label",{class:"text-sm"},"Sections (Atleast one section)",-1)),t("button",{onClick:ee,class:"bg-slate-100 p-1 rounded-md text-sm px-2"},"Add Section")]),(u(!0),r(W,null,J(l.value.sections,(s,i)=>(u(),r("div",{key:i,class:"border rounded p-3 mb-4"},[t("div",De,[t("label",Fe,"Section "+y(i+1),1),i>0?(u(),r("button",{key:0,onClick:o=>le(i),class:"text-red-500 text-sm"}," Remove Section ",8,Me)):h("",!0)]),t("div",je,[e[20]||(e[20]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Title")],-1)),d(v,{modelValue:s.title,"onUpdate:modelValue":o=>s.title=o,name:"",placeholder:"Enter section title",type:"text",class:m("col-span-4")},null,8,["modelValue","onUpdate:modelValue"])]),t("div",qe,[e[21]||(e[21]=t("label",{class:"text-sm"},"Rows (Atleast one row)",-1)),t("button",{onClick:o=>te(i),class:"bg-slate-100 p-1 rounded-md text-sm px-2"},"Add Row",8,He)]),(u(!0),r(W,null,J(s.rows,(o,_)=>(u(),r("div",{key:_,class:"relative border rounded p-3 bg-slate-50 mb-2"},[t("div",Pe,[t("label",Ae,"Row "+y(_+1),1),_>0?(u(),r("button",{key:0,onClick:x=>se(i,_),class:"text-red-500 text-sm"}," Remove Row ",8,ze)):h("",!0)]),t("div",Oe,[t("div",Ge,[e[22]||(e[22]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" ID")],-1)),d(v,{modelValue:o.id,"onUpdate:modelValue":x=>o.id=x,maxLength:"200",name:"",placeholder:"Enter ID",type:"text",class:m("col-span-4")},null,8,["modelValue","onUpdate:modelValue"]),t("span",We,y(k((o==null?void 0:o.id)??""))+"/200",1)]),t("div",Je,[e[23]||(e[23]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Title")],-1)),d(v,{modelValue:o.title,"onUpdate:modelValue":x=>o.title=x,maxLength:"24",name:"",placeholder:"Enter row title",type:"text",class:m("col-span-4")},null,8,["modelValue","onUpdate:modelValue"]),t("span",Ke,y(k((o==null?void 0:o.title)??""))+"/24",1)])]),t("div",Qe,[e[24]||(e[24]=t("label",{class:"text-sm mb-2"},[t("span",{class:"text-red-500"},"*"),p(" Description")],-1)),d(v,{modelValue:o.description,"onUpdate:modelValue":x=>o.description=x,maxLength:"72",name:"",placeholder:"Enter description",type:"text",class:m("col-span-4")},null,8,["modelValue","onUpdate:modelValue"]),t("span",Xe,y(k((o==null?void 0:o.description)??""))+"/72",1)]),d(n(O),{id:"a"+i+_,type:"source",position:n(z).Right,style:{right:"-25px"}},null,8,["id","position"])]))),128))]))),128))])]))}});const _t=Ve(Ye,[["__scopeId","data-v-b2e00c03"]]);export{_t as default};
