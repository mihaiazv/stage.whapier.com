import{W as p,V as w,S as s,r as E,m as g}from"./app-884e4ce3.js";import{c as v,o as L,w as h,h as C}from"./hidden-733404a0.js";let f=Symbol("Context");var y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(y||{});function b(){return S()!==null}function S(){return p(f,null)}function x(e){w(f,e)}function d(e,r,l){v.isServer||s(u=>{document.addEventListener(e,r,l),u(()=>document.removeEventListener(e,r,l))})}function O(e,r,l){v.isServer||s(u=>{window.addEventListener(e,r,l),u(()=>window.removeEventListener(e,r,l))})}function H(e,r,l=g(()=>!0)){function u(n,i){if(!l.value||n.defaultPrevented)return;let t=i(n);if(t===null||!t.getRootNode().contains(t))return;let m=function a(o){return typeof o=="function"?a(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let a of m){if(a===null)continue;let o=a instanceof HTMLElement?a:L(a);if(o!=null&&o.contains(t)||n.composed&&n.composedPath().includes(o))return}return!h(t,C.Loose)&&t.tabIndex!==-1&&n.preventDefault(),r(n,t)}let c=E(null);d("pointerdown",n=>{var i,t;l.value&&(c.value=((t=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:t[0])||n.target)},!0),d("mousedown",n=>{var i,t;l.value&&(c.value=((t=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:t[0])||n.target)},!0),d("click",n=>{c.value&&(u(n,()=>c.value),c.value=null)},!0),d("touchend",n=>u(n,()=>n.target instanceof HTMLElement?n.target:null),!0),O("blur",n=>u(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{b as C,x as c,y as l,S as p,O as w,H as y};
