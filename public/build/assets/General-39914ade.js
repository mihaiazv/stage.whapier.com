import{r as w,T as K,f as H,g as Q,o as m,a as e,k as W,t as a,h as x,j as u,u as o,n as r,c as p,w as X,v as Y,b as f,F as ee,e as te}from"./app-ec99bd87.js";import se from"./Layout-699bb4b9.js";import{_ as v}from"./FormInput-1cb8ed95.js";import{_}from"./FormSelect-797ad7ea.js";import"./index-615f951b.js";/* empty css              */import{_ as b}from"./FormToggleSwitch-fab3d0a8.js";import"./index-47ec0313.js";import"./App-781bfd2a.js";import"./Sidebar-d453dae8.js";import"./Menu-54b068a6.js";import"./Modal-d0025cfd.js";import"./transition-305ccfdd.js";import"./hidden-490c85f0.js";import"./use-outside-click-eba05427.js";import"./micro-task-89dcd6af.js";import"./ProfileModal-287eff18.js";import"./FormPhoneInput-ac975e44.js";/* empty css                      */import"./tabs-d5a2f7a4.js";import"./use-resolve-button-type-840eaf68.js";import"./LangToggle-4298f482.js";import"./OrganizationModal-cc4eaaeb.js";import"./use-text-value-9ae8c6ca.js";import"./MobileSidebar-f6e40833.js";import"./pusher-74adb5c4.js";import"./useRtl-2177b02b.js";const oe={class:"md:h-[90vh]"},ne={class:"flex justify-center items-center mb-8"},le={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4 pb-2"},ae={class:"flex px-4 pt-2 pb-4"},ie={class:"text-[17px]"},re={class:"flex items-center mt-1"},de={class:"flex space-x-10 border-b w-full px-4 py-6"},me={class:"w-[40%]"},ue={class:"text-slate-600"},pe={class:"text-xs text-slate-700 flex items-center"},ve={class:"w-[60%]"},ce={class:"flex space-x-10 w-full px-4 py-6"},ge={class:"w-[40%]"},he={class:"text-slate-600"},we={class:"text-xs text-slate-700 flex items-center"},fe={class:"w-[60%] grid grid-cols-4 gap-x-4 gap-y-4"},_e={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4"},xe={class:"flex items-center px-4 pt-2 pb-4"},be={class:"w-[60%]"},ye={class:"text-[17px]"},ke={class:"flex items-center mt-1"},Ve={class:"w-[40%] ml-auto"},$e={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm pb-4 mb-4"},Ce={class:"px-4 pt-2 pb-4"},Ze={class:"text-[17px]"},ze={class:"flex items-center mt-1"},Me={class:"w-[40%]"},je={class:"text-slate-600"},Be={class:"text-xs text-slate-700 flex items-center"},Ue={class:"w-[60%] flex justify-end"},Se={key:0,class:"flex space-x-10 w-full px-4 py-6"},Ne={class:"w-[60%]"},Ae={class:"text-slate-600"},Fe={class:"text-xs text-slate-700 flex items-center"},Te={class:"w-[40%] grid grid-cols-4 items-center gap-x-4 gap-y-4"},Oe={class:"col-span-4 flex gap-x-2"},Ge={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm mb-4"},De={class:"px-4 pt-2 pb-4"},Ee={class:"text-[17px]"},He={class:"flex items-center mt-1"},Ie={class:"w-[80%]"},Pe={class:"text-slate-600"},Je={class:"text-xs text-slate-700 flex items-center"},Re={class:"w-[20%] flex justify-end"},Le={key:0,class:"flex space-x-10 w-full px-4 py-6 border-b"},qe={class:"w-[60%]"},Ke={class:"text-slate-600"},Qe={class:"text-xs text-slate-700 flex items-center"},We={class:"w-[40%] justify-end"},Xe={class:"flex space-x-2"},Ye={class:"w-[80%]"},et={class:"text-slate-600"},tt={class:"text-xs text-slate-700 flex items-center"},st={class:"w-[20%] flex justify-end"},ot={key:2,class:"flex space-x-10 w-full px-4 py-6"},nt={class:"w-[60%]"},lt={class:"text-slate-600"},at={class:"text-xs text-slate-700 flex items-center"},it={class:"w-[40%] ml-auto"},rt={class:"bg-white border border-slate-200 rounded-lg py-2 text-sm pb-4 mb-20"},dt={class:"flex px-4 pt-1 pb-2"},mt={class:"ml-auto"},ut=["disabled"],pt={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},vt={key:1},Et={__name:"General",props:["contactGroups","settings","timezones","modules","organization","countries","sounds"],setup(I){var V,$,C,Z,z,M,j,B,U,S,N,A,F,T,O,G,D;const d=I;w(!1);const y=w(d.settings.metadata),i=w(y.value?JSON.parse(y.value):null),g=w(null),k=()=>{s.volume>0&&(s.volume=Math.max(0,parseFloat(s.volume)-.1),h(s.tone))},P=()=>{s.volume<1&&(s.volume=Math.min(1,parseFloat(s.volume)+.1),h(s.tone))},J=n=>{h(n)},h=n=>{g.value.src=n,g.value.volume=s.volume,g.value.play()},R=()=>d.contactGroups.map(n=>({value:n.uuid,label:n.name})),c=(n,t)=>{if(n){const l=JSON.parse(n);return(l==null?void 0:l[t])??null}else return null},s=K({organization_name:(V=d.settings)==null?void 0:V.name,address:c(($=d.settings)==null?void 0:$.address,"street"),city:c((C=d.settings)==null?void 0:C.address,"city"),state:c((Z=d.settings)==null?void 0:Z.address,"state"),zip:c((z=d.settings)==null?void 0:z.address,"zip"),country:c((M=d.settings)==null?void 0:M.address,"country"),timezone:i.value&&i.value.timezone?i.value.timezone:"UTC",enable_sound_notification:i.value&&i.value.notifications?i.value.notifications.enable_sound:!1,volume:i.value&&i.value.notifications?i.value.notifications.volume:1,tone:i.value&&i.value.notifications?i.value.notifications.tone:null,enable_campaign_resend:i.value&&((j=i.value.campaigns)!=null&&j.enable_resend)?(B=i.value.campaigns)==null?void 0:B.enable_resend:!1,move_failed_contacts_to_group:i.value&&((S=(U=i.value)==null?void 0:U.campaigns)!=null&&S.move_failed_contacts_to_group)?(A=(N=i.value)==null?void 0:N.campaigns)==null?void 0:A.move_failed_contacts_to_group:!1,resend_intervals:((T=(F=i==null?void 0:i.value)==null?void 0:F.campaigns)==null?void 0:T.resend_intervals)??[1,3,6],failed_campaign_group:i.value&&((G=(O=i.value)==null?void 0:O.campaigns)!=null&&G.failed_campaign_group)?(D=i.value.campaigns)==null?void 0:D.failed_campaign_group:null}),L=()=>{s.put("./profile/organization",{preserveScroll:!0})};return(n,t)=>(m(),H(se,{modules:d.modules},{default:Q(()=>[e("div",oe,[e("div",ne,[e("form",{onSubmit:t[17]||(t[17]=W(l=>L(),["prevent"])),class:"md:w-[60em]"},[e("div",le,[e("div",ae,[e("div",null,[e("h2",ie,a(n.$t("Organization details")),1),e("span",re,[t[18]||(t[18]=e("svg",{class:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),x(" "+a(n.$t("Update your organization settings")),1)])])]),e("div",de,[e("div",me,[e("span",ue,a(n.$t("Organization name")),1),e("div",pe,[t[19]||(t[19]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("Specify the name of your business/organization")),1)])]),e("div",ve,[u(v,{modelValue:o(s).organization_name,"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).organization_name=l),error:o(s).errors.organization_name,name:"",type:"text",class:r("col-span-4")},null,8,["modelValue","error"])])]),e("div",ce,[e("div",ge,[e("span",he,a(n.$t("Address details")),1),e("div",we,[t[20]||(t[20]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("Specify your physical business address")),1)])]),e("div",fe,[u(v,{modelValue:o(s).address,"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).address=l),error:o(s).errors.address,name:n.$t("Physical address"),type:"text",class:r("col-span-4")},null,8,["modelValue","error","name"]),u(v,{modelValue:o(s).city,"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).city=l),error:o(s).errors.city,name:n.$t("City"),type:"text",class:r("col-span-2")},null,8,["modelValue","error","name"]),u(v,{modelValue:o(s).state,"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).state=l),error:o(s).errors.state,name:n.$t("State"),type:"text",class:r("col-span-2")},null,8,["modelValue","error","name"]),u(v,{modelValue:o(s).zip,"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).zip=l),error:o(s).errors.zip,name:n.$t("Zip code"),type:"text",class:r("col-span-2")},null,8,["modelValue","error","name"]),u(_,{modelValue:o(s).country,"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).country=l),name:n.$t("Country"),type:"text",optionClassName:"h-40",options:d.countries,error:o(s).errors.country,class:r("col-span-2")},null,8,["modelValue","name","options","error"])])])]),e("div",_e,[e("div",xe,[e("div",be,[e("h2",ye,a(n.$t("Timezone")),1),e("span",ke,a(n.$t("All your data will be processed according to this timezone")),1)]),e("div",Ve,[u(_,{modelValue:o(s).timezone,"onUpdate:modelValue":t[6]||(t[6]=l=>o(s).timezone=l),name:"",type:"text",options:d.timezones,error:o(s).errors.timezone,class:r("col-span-2")},null,8,["modelValue","options","error"])])])]),e("div",$e,[e("div",Ce,[e("h2",Ze,a(n.$t("Notifications")),1),e("span",ze,[t[21]||(t[21]=e("svg",{class:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),x(" "+a(n.$t("Configure notification settings for new message alerts")),1)])]),e("div",{class:r(["flex space-x-10 w-full px-4 py-6",o(s).enable_sound_notification===!1?"":"border-b"])},[e("div",Me,[e("span",je,a(n.$t("Enable notification sound")),1),e("div",Be,[t[22]||(t[22]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("Specify the name of your business/organization")),1)])]),e("div",Ue,[u(b,{modelValue:o(s).enable_sound_notification,"onUpdate:modelValue":t[7]||(t[7]=l=>o(s).enable_sound_notification=l)},null,8,["modelValue"])])],2),o(s).enable_sound_notification===!0?(m(),p("div",Se,[e("div",Ne,[e("span",Ae,a(n.$t("New chat sound")),1),e("div",Fe,[t[23]||(t[23]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("Notification sound for every new message")),1)])]),e("div",Te,[u(_,{modelValue:o(s).tone,"onUpdate:modelValue":[t[8]||(t[8]=l=>o(s).tone=l),J],name:"",type:"text",optionClassName:"h-32",options:d.sounds,error:o(s).errors.tone,class:r("col-span-4")},null,8,["modelValue","options","error"]),e("div",Oe,[o(s).volume>0?(m(),p("svg",{key:0,onClick:t[9]||(t[9]=l=>k()),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t[24]||(t[24]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M3.5 13.857v-3.714a2 2 0 0 1 2-2h2.9a1 1 0 0 0 .55-.165l6-3.956a1 1 0 0 1 1.55.835v14.286a1 1 0 0 1-1.55.835l-6-3.956a1 1 0 0 0-.55-.165H5.5a2 2 0 0 1-2-2Z"}),e("path",{"stroke-linecap":"round",d:"M20.5 15V9"})],-1)]))):(m(),p("svg",{key:1,onClick:t[10]||(t[10]=l=>k()),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t[25]||(t[25]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18 14l2-2m2-2l-2 2m0 0l-2-2m2 2l2 2"}),e("path",{d:"M2 13.857v-3.714a2 2 0 0 1 2-2h2.9a1 1 0 0 0 .55-.165l6-3.956a1 1 0 0 1 1.55.835v14.286a1 1 0 0 1-1.55.835l-6-3.956a1 1 0 0 0-.55-.165H4a2 2 0 0 1-2-2Z"})],-1)]))),X(e("input",{type:"range",class:"w-full","onUpdate:modelValue":t[11]||(t[11]=l=>o(s).volume=l),onChange:t[12]||(t[12]=l=>h(o(s).tone)),id:"volume-slider",min:"0",max:"1",step:"0.01"},null,544),[[Y,o(s).volume]]),(m(),p("svg",{onClick:t[13]||(t[13]=l=>P()),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t[26]||(t[26]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M1 13.857v-3.714a2 2 0 0 1 2-2h2.9a1 1 0 0 0 .55-.165l6-3.956a1 1 0 0 1 1.55.835v14.286a1 1 0 0 1-1.55.835l-6-3.956a1 1 0 0 0-.55-.165H3a2 2 0 0 1-2-2Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.5 7.5S19 9 19 11.5s-1.5 4-1.5 4m3-11S23 7 23 11.5s-2.5 7-2.5 7"})],-1)])))]),e("audio",{ref_key:"audioPlayer",ref:g},null,512)])])):f("",!0)]),e("div",Ge,[e("div",De,[e("h2",Ee,a(n.$t("Failed Message Retry Settings (Campaigns)")),1),e("span",He,[t[27]||(t[27]=e("svg",{class:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),x(" "+a(n.$t("Configure the intervals at which failed campaign messages will be retried.")),1)])]),e("div",{class:r(["flex space-x-10 w-full px-4 py-6",o(s).enable_campaign_resend===!1?"":"border-b"])},[e("div",Ie,[e("span",Pe,a(n.$t("Enable campaign resend feature")),1),e("div",Je,[t[28]||(t[28]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("If active, failed messages in campaigns will be retried according to your set intervals")),1)])]),e("div",Re,[u(b,{modelValue:o(s).enable_campaign_resend,"onUpdate:modelValue":t[14]||(t[14]=l=>o(s).enable_campaign_resend=l)},null,8,["modelValue"])])],2),o(s).enable_campaign_resend===!0?(m(),p("div",Le,[e("div",qe,[e("span",Ke,a(n.$t("Retry Intervals (in hours)")),1),e("div",Qe,[t[29]||(t[29]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("Set retry intervals in hours")),1)])]),e("div",We,[e("div",Xe,[(m(!0),p(ee,null,te(o(s).resend_intervals,(l,E)=>(m(),H(v,{modelValue:o(s).resend_intervals[E],"onUpdate:modelValue":q=>o(s).resend_intervals[E]=q,modelModifiers:{number:!0},error:"",name:"",type:"number",min:"1",class:r("w-24")},null,8,["modelValue","onUpdate:modelValue"]))),256))])])])):f("",!0),o(s).enable_campaign_resend===!0?(m(),p("div",{key:1,class:r(["flex space-x-10 w-full px-4 py-6",o(s).move_failed_contacts_to_group===!1?"":"border-b"])},[e("div",Ye,[e("span",et,a(n.$t("Move failed contacts to a group")),1),e("div",tt,[t[30]||(t[30]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("If enabled, failed contacts will be moved to a selected group after all retry attempts.")),1)])]),e("div",st,[u(b,{modelValue:o(s).move_failed_contacts_to_group,"onUpdate:modelValue":t[15]||(t[15]=l=>o(s).move_failed_contacts_to_group=l)},null,8,["modelValue"])])],2)):f("",!0),o(s).enable_campaign_resend===!0&&o(s).move_failed_contacts_to_group===!0?(m(),p("div",ot,[e("div",nt,[e("span",lt,a(n.$t("Failed contacts groups")),1),e("div",at,[t[31]||(t[31]=e("svg",{class:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1)),e("span",null,a(n.$t("After the three retry attempts, contacts will be moved to this group.")),1)])]),e("div",it,[u(_,{modelValue:o(s).failed_campaign_group,"onUpdate:modelValue":t[16]||(t[16]=l=>o(s).failed_campaign_group=l),name:"",error:o(s).errors.failed_campaign_group,options:R(),type:"text",class:r("sm:col-span-6")},null,8,["modelValue","error","options"])])])):f("",!0)]),e("div",rt,[e("div",dt,[e("div",mt,[e("button",{type:"submit",class:"float-right rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm hover:shadow-md hover:bg-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:o(s).processing},[o(s).processing?(m(),p("svg",pt,t[32]||(t[32]=[e("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"},null,-1),e("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"},[e("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})],-1)]))):(m(),p("span",vt,a(n.$t("Save")),1))],8,ut)])])])],32)])])]),_:1},8,["modules"]))}};export{Et as default};
